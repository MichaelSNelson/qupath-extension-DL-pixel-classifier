[workspace]
channels = ["conda-forge", "pytorch"]
platforms = ["linux-64", "osx-arm64", "osx-64", "win-64"]

[dependencies]
python = "3.10.*"
appose = ">=0.7.2"
numpy = ">=1.24.0,<2.0"
pillow = ">=10.0.0"
scikit-image = ">=0.21.0"
tifffile = ">=2023.7.0"
imagecodecs = ">=2023.7.0"
pydantic = ">=2.0.0"

# PyTorch via conda-forge (includes CUDA support on Linux/Windows)
pytorch = ">=2.1.0"
torchvision = ">=0.16.0"

[pypi-dependencies]
segmentation-models-pytorch = ">=0.3.3"
albumentations = ">=1.3.0"
timm = ">=1.0.0"

# ONNX (optional, for exported models)
onnx = ">=1.15.0"
onnxruntime = ">=1.16.0"

# DL classifier server (from GitHub)
dlclassifier-server = { git = "https://github.com/MichaelSNelson/qupath-extension-DL-pixel-classifier.git", subdirectory = "python_server" }
